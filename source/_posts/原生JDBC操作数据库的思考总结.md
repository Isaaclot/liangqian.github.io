---
title: 原生JDBC操作数据库的思考总结
date: 2016-08-16 20:57:20
tags: [Mysql,Java]
---

#### 前言
+ 相信很多java工程师在入门Java操作数据库的时候，都是首先接触到JDBC连接数据库的方式访问操作数据库，对数据库进行增删查改(CRUD)
+ 但是久而久之，基于各种原因(团队\需求)，后来就使用封装了JDBC的框架来访问数据库，比如`hibernate`,`Mybatis\iBats`,我这里总结一下一些关于使用原生JDBC操作数据库的一些思考

#### JDBC编程步骤
1. 加载数据库驱动
2. 创建并获取数据库链接
3. 创建jdbc statement对象
4. 设置sql语句
5. 社会sql语句中的参数(使用preparedStatement预加载)
6. 通过statement执行sql并获得结果
7. 对sql执行结果进行解析
8. 释放资源关闭数据库

#### 问题总结
1. 数据库链接，使用时就创建，不使用的时候就释放，对数据库进行频繁连接开启和关闭，造成数据库资源浪费，影响数据库性能
假想方案：使用数据库连接池管理数据库连接
2. 将sql语句英编码到Java代码中，如果要修改sql语句，需要重新编译Java代码，不利于系统维护
假想方案：将sql语句配置在xml配置文件中，需要修改sql语句的时候直接在xml配置文件，不需要重新编译Java代码
3. 向preparedStatement中设置参数，对占位符位置和设置参数值，硬编码到Java代码中，不利于系统维护
假想方案：将sql语句以及占位符和参数全在配置文件中定义配置
4. 从resultSet中遍历结果集数据时，存在硬编码，将获取表的字段进行硬编码，不利于系统维护
假想方案：将查询的结果集，自动映射成Java对象
5. 对于繁杂程度来说，要使用一堆编码，才能实现一丢丢的查询......
